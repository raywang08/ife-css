<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    #controlNum button {
      margin-top: 10px;
      display: block;
    }
    .second button {
      margin-top: 10px;
      display: block;
    }
  </style>
</head>
<body>
<div class="first">
    <h3>数字1</h3>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div id="controlNum">
        <button>判断当前选中的输入框输入内容是否为数字</button>
        <button>把 A 四舍五入为 B 个小数位数的数字</button>
        <button>当前选中数字的绝对值</button>
        <button>对当前选中的数字进行上舍入</button>
        <button>对当前选中的数字进行下舍入</button>
        <button>把当前选中的数字四舍五入为最接近的整数</button>
        <button>返回 A 和 B 中的最高值</button>
        <button>返回 A 和 B 中的最低值</button>        
    </div>
    <p id="result"></p>
</div>

<div>-------------------------------------------------------------------</div>

<div class="second">
    <h3>字符串1</h3>
    <div>
        <label>String A:
            <input class="radio-a" type="radio" checked="true" name="str-obj" value="a">
        </label>
        <textarea class="str-a" rows="1"></textarea>
        <label>String B:
            <input class="radio-b" type="radio" name="str-obj" value="b">
        </label>
        <textarea class="str-b" rows="1"></textarea>        
        <label>Num A：<input class="num-a" type="number" value="0"></label>
        <label>Num B：<input class="num-b" type="number" value="1"></label>
    </div>
    <div>
        <button>获取当前选中输入的内容长度</button>
        <button>当前选中输入中的第3个字符</button>
        <button>把两个输入框的文字连接在一起输出（concat）</button>
        <button>输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
        <button>输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
        <button>使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
        <button style="display: inline-block">当前选中输入框的行数</button>
        <span style="font-size: 12px; color: #000; opacity: .5;">这个方法必须将textarea的rows设置为1，否则无法成功</span>
        <button>使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
        <button>把所选输入框中的内容全部转为大写</button>
        <button>把所选输入框中的内容全部转为小写</button>
        <button>把所选输入框中内容的半角空格全部去除</button>
        <button>把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
    </div>
    <p class="result"></p>
</div>

<div>-------------------------------------------------------------------</div>

<div class="fifth">
  <h3>数组实现队列1</h3>
  <input id="queue-input" type="text">
  <p id="queue-cont">队列内容：apple-&gt;pear</p>    
  <button id="in-btn">入队</button>
  <button id="out-btn">出队</button>
  <button id="font-btn">打印队头元素内容</button>
  <button id="empty-btn">判断队列是否为空</button>
</div>

<div>-------------------------------------------------------------------</div>

<div class="sixth">
  <h3>数组实现队列2</h3>
  <input class="queue-input" type="text">
  <p class="queue-cont">队列内容：apple&lt;-pear</p>    
  <button class="in-btn">入队</button>
  <button class="out-btn">出队</button>
  <button class="font-btn">打印队头元素内容</button>
  <button class="empty-btn">判断队列是否为空</button>
</div>

<div>-------------------------------------------------------------------</div>

<div class="seventh">
  <h3>数组实现栈1</h3>
  <input class="stack-input" type="text">
  <p class="stack-cont">栈内容：apple-&gt;pear</p>    
  <button class="push-btn">进栈</button>
  <button class="pop-btn">退栈</button>
  <button class="font-btn">打印栈顶元素内容</button>
  <button class="empty-btn">判断栈是否为空</button>
</div>

<div>-------------------------------------------------------------------</div>

<div class="eighth">
  <h3>数组实现栈2</h3>
  <input class="stack-input" type="text">
  <p class="stack-cont">栈内容：apple&lt;-pear</p>    
  <button class="push-btn">进栈</button>
  <button class="pop-btn">退栈</button>
  <button class="font-btn">打印栈顶元素内容</button>
  <button class="empty-btn">判断栈是否为空</button>
</div>

</body>
</html>

<script>
  var controlNum = document.querySelector('.first #controlNum');
  var btns = document.querySelectorAll('.first #controlNum button');
  var result = document.querySelector('.first #result');
  var numInputA = document.querySelector('.first #num-a');
  var numInputB = document.querySelector('.first #num-b');

  function judgeCheckInput () {
    var checkNode = document.querySelector('.first input[type="radio"]:checked');
    var isNumber = 1;
    if (!checkNode) {
      console.error('请选中单选框');
      return;
    }
    var inpValue = checkNode.parentNode.nextElementSibling.value;
    if (!inpValue) {
      console.error('请在输入框中输入内容');
      return;
    }
    if (Number(inpValue) + '' !== 'NaN') {
      return Number(inpValue);
    } else {
      result.innerText = '';
      return 'no';
    }
  }

  function judgeBothCheckInput (check) {
    var numA = numInputA.value;
    var numB = numInputB.value;
    if (numA.length === 0 || numB.length === 0) {
      console.error('请在输入框中输入内容');
      return;
    }
    if ((Number(numA) + '' === 'NaN') || (Number(numB) + '' === 'NaN')) {
      result.innerText = '';
      console.error('输入框为数值类型');
      return;
    }
    if (check && ((Number(numB) > Math.floor(Number(numB))) || Number(numB) < 0)) {
      result.innerText = '';
      console.error('输入框B只能是正整数')
      return;
    }
    return true;
  }

  // 判断当前选中的输入框输入内容是否为数字
  btns[0].onclick = function () {
    var numValue = judgeCheckInput();
    if (numValue === 'no') {
      result.innerText = '不是数字';
    } else if (numValue) {
      result.innerText = '是数字';
    }
  }

  // 把 A 四舍五入为 B 个小数位数的数字
  btns[1].onclick = function () {
    var numA = numInputA.value;
    var numB = numInputB.value;
    var isNumber = judgeBothCheckInput(true);
    if (isNumber) {
      var temp = (+numA).toFixed(+numB);
      result.innerText = temp;
    }
  }

  // 当前选中数字的绝对值
  btns[2].onclick = function () {
    var numValue = judgeCheckInput();
    if (numValue === 'no') {
      console.error('请输入数字');
    } else if (numValue) {
      result.innerText = Math.abs(numValue);
    }
  }

  // 对当前选中的数字进行上舍入
  btns[3].onclick = function () {
    var numValue = judgeCheckInput();
    if (numValue === 'no') {
      console.error('请输入数字');
    } else if (numValue) {
      result.innerText = Math.ceil(numValue);
    }
  }

  // 对当前选中的数字进行下舍入
  btns[4].onclick = function () {
    var numValue = judgeCheckInput();
    if (numValue === 'no') {
      console.error('请输入数字');
    } else if (numValue) {
      result.innerText = Math.floor(numValue);
    }
  }

  // 把当前选中的数字四舍五入为最接近的整数
  btns[5].onclick = function () {
    var numValue = judgeCheckInput();
    if (numValue === 'no') {
      console.error('请输入数字');
    } else if (numValue) {
      result.innerText = Math.round(numValue);
    }
  }

  // 返回 A 和 B 中的最高值
  btns[6].onclick = function () {
    var numA = numInputA.value;
    var numB = numInputB.value;
    var isNumber = judgeBothCheckInput();
    if (isNumber) {
      var temp = Math.max(+numA, +numB);
      result.innerText = temp;
    }
  }

  // 返回 A 和 B 中的最低值
  btns[7].onclick = function () {
    var numA = numInputA.value;
    var numB = numInputB.value;
    var isNumber = judgeBothCheckInput(false);
    if (isNumber) {
      var temp = Math.min(+numA, +numB);
      result.innerText = temp;
    }
  }
</script>

<script>
  var secondRadioA = document.querySelector('.second .radio-a');
  var secondRadioB = document.querySelector('.second .radio-b');

  var secondNumA = document.querySelector('.second .num-a');
  var secondNumB = document.querySelector('.second .num-b');

  var secondStrA = document.querySelector('.second .str-a');
  var secondStrB = document.querySelector('.second .str-b');

  var secondBtns = document.querySelectorAll('.second button');
  var secondResult = document.querySelector('.second .result');

  function secondGetCheck () {
    var secondInputNode = document.querySelector('.second input[type="radio"]:checked').parentNode.nextElementSibling;
    return secondInputNode;
  }
 
  // 获取当前选中输入的内容长度
  secondBtns[0].onclick = function () {
    var checkedValue = secondGetCheck().value;
    console.log(checkedValue);
    secondResult.innerText = checkedValue;
  }

  // 当前选中输入中的第3个字符
  secondBtns[1].onclick = function () {
    var checkedValue = secondGetCheck().value;
    secondResult.innerText = checkedValue[2];
  }

  // 把两个输入框的文字连接在一起输出（concat）
  secondBtns[2].onclick = function () {
    secondResult.innerText = secondStrA.value.concat(secondStrB.value);
  }

  // 输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）
  secondBtns[3].onclick = function () {
    secondResult.innerText = secondStrA.value.indexOf(secondStrB.value);
  }

  // 输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）
  secondBtns[4].onclick = function () {
    secondResult.innerText = secondStrB.value.lastIndexOf(secondStrA.value);
  }

  // 使用slice获取选中输入框内容的部分内容，参数为num-a及num-b
  secondBtns[5].onclick = function () {
    if ((Math.floor(Number(secondNumA.value)) !== Number(secondNumA.value)) || (Math.floor(Number(secondNumB.value)) !== Number(secondNumB.value))) {
      console.error('NumA，NumB 必须为整数');
      return;
    }
    var checkedNode = secondGetCheck();
    secondResult.innerText = checkedNode.value.slice(+secondNumA.value, +secondNumB.value);
  }

  // 当前选中输入框的行数
  secondBtns[6].onclick = function () {
    // 注：这个方法必须将行高设置为1
    var checkedNode = secondGetCheck();
    var fontHeight = parseInt(getComputedStyle(checkedNode,undefined).fontSize);
    var contHeight = checkedNode.scrollHeight;
    var boxHeight = checkedNode.clientHeight;
    var rows = 0;
    
    rows = Math.floor(contHeight / fontHeight);
    secondResult.innerText = rows;
  }

  // 使用substr获取选中输入框内容的子字符串，参数为num-a及num-b
  secondBtns[7].onclick = function () {
    var checkedNode = secondGetCheck();
    secondResult.innerText = checkedNode.value.substr(+secondNumA.value, +secondNumB.value);
  }

  // 把所选输入框中的内容全部转为大写
  secondBtns[8].onclick = function () {
    var checkedNode = secondGetCheck();
    secondResult.innerText = checkedNode.value.toUpperCase();
  }

  // 把所选输入框中的内容全部转为小写
  secondBtns[9].onclick = function () {
    var checkedNode = secondGetCheck();
    secondResult.innerText = checkedNode.value.toLowerCase();
  }

  // 把所选输入框中内容的半角空格全部去除
  secondBtns[10].onclick = function () {
    var checkedNode = secondGetCheck();
    // var valueString = checkedNode.value.replace(/ /gi, '');
    // secondResult.innerText = valueString;
  }

  // 把所选输入框中内容的a全部替换成另外一个输入框中的内容
  secondBtns[11].onclick = function () {
    var checkedNode = secondGetCheck();
    if (checkedNode.value === secondStrA.value) {
      checkedNode.value = secondStrB.value;
      return;
    } else {
      checkedNode.value = secondStrA.value;
      return;
    }
  }
</script>

<!-- 数组实现队列1 -->
<script>
  var queue = ["apple", "pear"];
  var fifthBtns = document.querySelectorAll('.fifth button');
  var fifthResult = document.querySelector('.fifth #queue-cont');
  var inputCont = document.querySelector('.fifth #queue-input');
  fifthBtns[0].onclick = function () {
    if (!inputCont.value) {
      alert('请输入内容');
      return;
    }
    var queueTemp = (queue.slice()).unshift(inputCont.value);
    var str = queueTemp.join('->');
    fifthResult.innerText = '队列内容：' + str;
  }

  fifthBtns[1].onclick = function () {
    queue.pop();
    var str = queue.join('->');
    fifthResult.innerText = '队列内容：' + str;
  }

  fifthBtns[2].onclick = function () {
    console.log('队头元素为：' + queue[queue.length-1]);
  }

  fifthBtns[3].onclick = function () {
    if (queue.length === 0) {
      console.log('队列为空');
    } else {
      console.log('队列为非空');     
    }
  }
</script>
<!-- 数组实现队列2 -->
<script>
  var queue = ["apple", "pear"];
  var sixthBtns = document.querySelectorAll('.sixth button');
  var sixthResult = document.querySelector('.sixth .queue-cont');
  var sixthInputCont = document.querySelector('.sixth .queue-input');
  sixthBtns[0].onclick = function () {
    if (!sixthInputCont.value) {
      console('请输入内容');
      return;
    }
    queue.push(sixthInputCont.value);
    var str = queue.join('<-');
    sixthResult.innerText = '队列内容：' + str;
  }

  sixthBtns[1].onclick = function () {
    queue.shift();
    var str = queue.join('<-');
    sixthResult.innerText = '队列内容：' + str;
  }

  sixthBtns[2].onclick = function () {
    console.log('队头元素：' + queue[0]);
  }

  sixthBtns[3].onclick = function () {
    if (queue.length === 0) {
      console.log('队列为空');
    } else {
      console.log('队列为非空');     
    }
  }
</script>
<!-- 数组实现栈1 -->
<script>
  var stack = ["apple", "pear"];
  var seventhBtns = document.querySelectorAll('.seventh button');
  var seventhResult = document.querySelector('.seventh .stack-cont');
  var seventhInputCont = document.querySelector('.seventh .stack-input');

  seventhBtns[0].onclick = function () {
    if (!seventhInputCont.value) {
      console.log('请输入内筒');
      return;
    }
    stack.push(seventhInputCont.value);
    seventhResult.innerText = '栈内容：' + stack.join('->');
  }

  seventhBtns[1].onclick = function () {
    stack.pop();
    seventhResult.innerText = '栈内容：' + stack.join('->');
  }

  seventhBtns[2].onclick = function () {
    console.log('栈顶内容为：' + stack[stack.length -1]);
  }

  seventhBtns[3].onclick = function () {
    if (stack.length === 0) {
      console.log('栈为空');
    } else {
      console.log('栈为非空');     
    }
  }

</script>
<!-- 数组实现栈2 -->
<script>
  var stack = ["apple", "pear"];
  var eighthBtns = document.querySelectorAll('.eighth button');
  var eighthResult = document.querySelector('.eighth .stack-cont');
  var eighthInputCont = document.querySelector('.eighth .stack-input');

  eighthBtns[0].onclick = function () {
    if (!eighthInputCont.value) {
      console.log('请输入内容');
      return;
    }
    stack.unshift(eighthInputCont.value);
    eighthResult.innerText = '栈内容：' + stack.join('->');
  }
  eighthBtns[1].onclick = function () {
    stack.shift();
    eighthResult.innerText = '栈内容：' + stack.join('->');
  }
  eighthBtns[2].onclick = function () {
    console.log(stack[0]);
  }
  eighthBtns[3].onclick = function () {
    if (stack.length === 0) {
      console.log('栈为空');
    } else {
      console.log('栈为非空');     
    }
  }
</script>

